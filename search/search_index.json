{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"C\u00f3digos de Artigos Este \u00e9 um reposit\u00f3rio onde mantenho meus testes e meus artigos de forma versionada, Seja muito bem vindo(a)! Caso queira ter acesso ao blog o link \u00e9: https://xandecoding.github.io/codigos-de-artigos/","title":"C\u00f3digos de Artigos"},{"location":"#codigos-de-artigos","text":"Este \u00e9 um reposit\u00f3rio onde mantenho meus testes e meus artigos de forma versionada, Seja muito bem vindo(a)! Caso queira ter acesso ao blog o link \u00e9: https://xandecoding.github.io/codigos-de-artigos/","title":"C\u00f3digos de Artigos"},{"location":"-%20Iniciar%20projeto%20poetry/","text":"Iniciar projeto poetry Adicionar gitignore https://www.toptal.com/developers/gitignore/ curl https://www.toptal.com/developers/gitignore/api/python,vim instalar dependencias de desenvolvimento poetry add --group dev ruff black instalar prospector poetry add --group dev \"prospector[with_mypy]\" instalar poetry add quart[dotenv]","title":"  Iniciar projeto poetry"},{"location":"Construindo%20uma%20API%20organizadinha%20em%20Golang%20usando%20Fiber/","text":"Construindo uma API organizadinha em Golang usando Fiber Nos \u00faltimos tempo brincando com go e apanhando bastante com o sistema de packages dele (aqui cabe um mea-culpa porque \u00e9 um esquema bem legal se bem utilizado) me peguei pensando bastante em qual seria a melhor forma de organizar a API que estava fazendo de estudo. Acabei pegando bastantes exemplos inclusive do reposit\u00f3rio do Fiber e cheguei em um formato que acredito que seja bem leg\u00edvel e f\u00e1cil de adicionar novas funcionalidades. **Disclaimer.:** N\u00e3o estou dizendo que esta \u00e9 a melhor forma de se organizar uma API em GoLang mas foi uma que me atendeu e acho que tamb\u00e9m pode atender em muitos casos onde uma API gen\u00e9rica \u00e9 necess\u00e1ria. O que essa API faz? Link do reposit\u00f3rio Bem essa API foi feita para salvar informa\u00e7\u00f5es sobre livros e tem somente 3 endpoints: GET: Retorna informa\u00e7\u00f5es sobre um livro PUT: Adiciona ou altera informa\u00e7\u00f5es sobre um livro DELETE: Deleta as informa\u00e7\u00f5es de um livro Implementei somente o b\u00e1sico mesmo, e para isso usei como framework o Fiber que mencionei logo acima que tem uma pegada bem parecida com Express.js que eu curti bastante, mas com as vantagens de Golang como menor aloca\u00e7\u00e3o de mem\u00f3ria e uma velocidade tremenda, e os dados est\u00e3o sendo salvos em um Redis o qual \u00e9 poss\u00edvel inicializar usando um docker-compose . Estrutura | api_simples \u251c\u2500\u2500 docker-compose.yml \u251c\u2500\u2500 docs \u2502 \u2514\u2500\u2500 estrutura.png \u251c\u2500\u2500 go.mod \u251c\u2500\u2500 go.sum \u251c\u2500\u2500 main.go \u251c\u2500\u2500 pkg \u2502 \u251c\u2500\u2500 configurations \u2502 \u2502 \u2514\u2500\u2500 database.go \u2502 \u251c\u2500\u2500 entities \u2502 \u2502 \u2514\u2500\u2500 book.go \u2502 \u251c\u2500\u2500 handlers \u2502 \u2502 \u2514\u2500\u2500 book_handler.go \u2502 \u251c\u2500\u2500 repositories \u2502 \u2502 \u251c\u2500\u2500 book_repository.go \u2502 \u2502 \u2514\u2500\u2500 commons.go \u2502 \u2514\u2500\u2500 routes \u2502 \u251c\u2500\u2500 book_router.go \u2502 \u2514\u2500\u2500 routes.go \u2514\u2500\u2500 README.md Acredito que n\u00e3o fa\u00e7a muito sentido falar somente o que existe em cada pasta, mas sim dizer o porqu\u00ea e o contexto do porque foi feito desta forma, n\u00e3o vou seguir a ordem ali de cima, pois acho que \u00e9 mais f\u00e1cil explicar n\u00e3o seguindo esta ordem, ent\u00e3o vamos l\u00e1: go.mod module github.com/XandeCoding/codigos-de-artigos/golang/api_simples go 1.19 require ( github.com/go-redis/redis/v9 v9.0.0-beta.2 github.com/gofiber/fiber/v2 v2.36.0 ) Este arquivo me ajuda a resolver v\u00e1rias quest\u00f5es do workspace de go, pois posso criar um reposit\u00f3rio de Go onde eu quiser e isso n\u00e3o me traz um problema, por exemplo, de acessar packages tanto externos quanto locais principalmente locais. Para criar ele somente realizei o comando go mod init com o caminho do projeto no github como argumento que no caso \u00e9 github.com/XandeCoding/codigos-de-artigos/golang/api_simples , n\u00e3o necessariamente \u00e9 necess\u00e1rio por o caminho do github pode ser utilizado somente o nome do projeto que aqui \u00e9 api_simples por exemplo. Como \u00e9 algo p\u00fablico que quero fazer, acho que \u00e9 interessante colocar o caminho inteiro do reposit\u00f3rio, pois caso eu ou outro algu\u00e9m queira usar um arquivo em espec\u00edfico do projeto ele pode somente referenciar o caminho e tudo deve funcionar perfeitamente, pois o caminho inteiro dos outros arquivos m\u00f3dulos est\u00e3o sendo referenciados. pkg e main.go A pasta pkg \u00e9 a pasta onde vou deixar o c\u00f3digo da minha API, ent\u00e3o todas as features est\u00e3o implementadas dentro desta pasta e o main.go \u00e9 somente um arquivo para inicializar a aplica\u00e7\u00e3o e n\u00e3o implementa nada, por isso ela fica de fora, e usada somente para realizar o start na API. _main.go:_ package main import ( \"github.com/XandeCoding/codigos-de-artigos/golang/api_simples/pkg/routes\" \"github.com/gofiber/fiber/v2\" ) func main() { app := fiber.New() routes.AddRoutes(app) app.Listen(\":3000\") } pkg/configurations Aqui ficam os arquivos de configura\u00e7\u00e3o, neste caso temos o arquivo_database.go_ que configura o acesso ao banco, mas caso tiv\u00e9ssemos outras configura\u00e7\u00f5es de aplica\u00e7\u00f5es ou de ferramentas que seriam utilizadas por uma ou mais partes da aplica\u00e7\u00e3o isso ficaria aqui como, por exemplo, uma configura\u00e7\u00e3o customizada do fiber ou mesmo capturar as vari\u00e1veis de ambiente que \u00e9 um caso de uso bem comum. pkg/entities Entidades em geral podem ser usadas em v\u00e1rios lugares, principalmente neste caso onde uso tanto para receber o dado no endpoint e fazer o parse quanto nas fun\u00e7\u00f5es de adicionar o dado no banco. Ent\u00e3o colocar em um lugar comum se torna bastante interessante, \u00e9 claro que h\u00e1 estruturas onde os packages s\u00e3o separados por features e temos escopos mais fechados, a\u00ed talvez n\u00e3o fosse interessante esta abordagem que estou usando aqui. Exemplo da configura\u00e7\u00e3o de conex\u00e3o com o Redis em _database.go:_ package configurations import \"github.com/go-redis/redis/v9\" func CreateClient() *redis.Client { redisDatabase := redis.NewClient(&redis.Options{ Addr: \"localhost:6379\", Password: \"\", DB: 0, }) return redisDatabase } pkg/repositores Neste pacote ficam as fun\u00e7\u00f5es que trabalham diretamente com o banco Redis ent\u00e3o nelas eu recebo o dado de um livro no caso a entidade book e tenho fun\u00e7\u00f5es que tanto a inserem, atualizam e a deletam do banco. Caso tivesse outra entidade a ser tratada no banco como por exemplo, library_ onde trataria de dados sobre livrarias, ela seria um arquivo separado onde ficariam somente fun\u00e7\u00f5es relacionadas a estas informa\u00e7\u00f5es. Fragmento de *book_repository.go:* type Repository struct { database *redis.Client } ... func (rdb Repository) GetBook(name string) string { ctx, cancel := getContext() defer cancel() book, _ := rdb.database.Get(ctx, name).Result() return book } pkg/routes Seguindo o exemplo de outras partes da aplica\u00e7\u00e3o separei as rotas por arquivos, mesmo que tenhamos um arquivo routes.go que inicializa estas rotas \u00e9 interessante deixarmos as rotas de determinado recurso separados, pois facilita a leitura e o entendimento de outras pessoas que possam vir a dar manuten\u00e7\u00e3o no c\u00f3digo. Parte em que inicializo as rotas em _routes.go:_ func AddRoutes(app *fiber.App) *fiber.App { bookRouter(app) return app } Algo que curti muito \u00e9 que em book_router.go somente explicitei as rotas, m\u00e9todos e as fun\u00e7\u00f5es que s\u00e3o os chamados handlers que est\u00e3o em outra parte da aplica\u00e7\u00e3o. Outra coisa importante \u00e9 que esta estrutura possibilita que criemos inst\u00e2ncias que podem ser reutilizadas em todos os endpoints deste determinado recurso que no caso foi uma inst\u00e2ncia de conex\u00e3o com o banco Redis. Fragmento onde explicito os recursos de _book_router:_ func bookRouter(app *fiber.App) *fiber.App { bookRepository := repositories.NewRepository() app.Get(\"/book/:name\", handlers.GetBookHandler(bookRepository)) app.Put(\"/book\", handlers.SetBookHandler(bookRepository)) app.Delete(\"/book/:name\", handlers.DeleteBookHandler(bookRepository)) return app } pkg/handlers Em handlers deixo as fun\u00e7\u00f5es que v\u00e3o ser chamadas pelos endpoints, por exemplo, o endpoint _PUT: /book_ chama a fun\u00e7\u00e3o SetBookHandler que est\u00e1 no arquivo book_handler.go que retorna a fun\u00e7\u00e3o que vai ser chamada quando este recurso for acessado. C\u00f3digo da fun\u00e7\u00e3o _SetBookHandler:_ func SetBookHandler(bookRepository *repositories.Repository) fiber.Handler { return func(c *fiber.Ctx) error { book := new(entities.Book) err := c.BodyParser(book) if err != nil { message := map[string]string{\"message\": \"Invalid entry data\"} return c.Status(400).JSON(message) } book_name_normalized := strings.ReplaceAll( strings.ToLower(book.Name), \" \", \"_\", ) key := \"book:\" + book_name_normalized bookRepository.SetBook(key, book) return c.Send(c.Body()) } } Pronto Espero ter ajudado com alguns pontos de dificuldade que quando come\u00e7amos uma API principalmente em uma linguagem que n\u00e3o temos tanta intimidade que foi o meu caso pode nos deixar um pouco confusos, mas este foi uma estrutura inicial que curti bastante, mas qualquer coment\u00e1rio ou feedback pode comentar que \u00e9 sempre bom melhorarmos n\u00e3o \u00e9?, at\u00e9 a pr\u00f3xima","title":"Construindo uma API organizadinha em Golang usando Fiber"},{"location":"Construindo%20uma%20API%20organizadinha%20em%20Golang%20usando%20Fiber/#construindo-uma-api-organizadinha-em-golang-usando-fiber","text":"Nos \u00faltimos tempo brincando com go e apanhando bastante com o sistema de packages dele (aqui cabe um mea-culpa porque \u00e9 um esquema bem legal se bem utilizado) me peguei pensando bastante em qual seria a melhor forma de organizar a API que estava fazendo de estudo. Acabei pegando bastantes exemplos inclusive do reposit\u00f3rio do Fiber e cheguei em um formato que acredito que seja bem leg\u00edvel e f\u00e1cil de adicionar novas funcionalidades. **Disclaimer.:** N\u00e3o estou dizendo que esta \u00e9 a melhor forma de se organizar uma API em GoLang mas foi uma que me atendeu e acho que tamb\u00e9m pode atender em muitos casos onde uma API gen\u00e9rica \u00e9 necess\u00e1ria.","title":"Construindo uma API organizadinha em Golang usando Fiber"},{"location":"Construindo%20uma%20API%20organizadinha%20em%20Golang%20usando%20Fiber/#o-que-essa-api-faz","text":"Link do reposit\u00f3rio Bem essa API foi feita para salvar informa\u00e7\u00f5es sobre livros e tem somente 3 endpoints: GET: Retorna informa\u00e7\u00f5es sobre um livro PUT: Adiciona ou altera informa\u00e7\u00f5es sobre um livro DELETE: Deleta as informa\u00e7\u00f5es de um livro Implementei somente o b\u00e1sico mesmo, e para isso usei como framework o Fiber que mencionei logo acima que tem uma pegada bem parecida com Express.js que eu curti bastante, mas com as vantagens de Golang como menor aloca\u00e7\u00e3o de mem\u00f3ria e uma velocidade tremenda, e os dados est\u00e3o sendo salvos em um Redis o qual \u00e9 poss\u00edvel inicializar usando um docker-compose .","title":"O que essa API faz?"},{"location":"Construindo%20uma%20API%20organizadinha%20em%20Golang%20usando%20Fiber/#estrutura","text":"| api_simples \u251c\u2500\u2500 docker-compose.yml \u251c\u2500\u2500 docs \u2502 \u2514\u2500\u2500 estrutura.png \u251c\u2500\u2500 go.mod \u251c\u2500\u2500 go.sum \u251c\u2500\u2500 main.go \u251c\u2500\u2500 pkg \u2502 \u251c\u2500\u2500 configurations \u2502 \u2502 \u2514\u2500\u2500 database.go \u2502 \u251c\u2500\u2500 entities \u2502 \u2502 \u2514\u2500\u2500 book.go \u2502 \u251c\u2500\u2500 handlers \u2502 \u2502 \u2514\u2500\u2500 book_handler.go \u2502 \u251c\u2500\u2500 repositories \u2502 \u2502 \u251c\u2500\u2500 book_repository.go \u2502 \u2502 \u2514\u2500\u2500 commons.go \u2502 \u2514\u2500\u2500 routes \u2502 \u251c\u2500\u2500 book_router.go \u2502 \u2514\u2500\u2500 routes.go \u2514\u2500\u2500 README.md Acredito que n\u00e3o fa\u00e7a muito sentido falar somente o que existe em cada pasta, mas sim dizer o porqu\u00ea e o contexto do porque foi feito desta forma, n\u00e3o vou seguir a ordem ali de cima, pois acho que \u00e9 mais f\u00e1cil explicar n\u00e3o seguindo esta ordem, ent\u00e3o vamos l\u00e1: go.mod module github.com/XandeCoding/codigos-de-artigos/golang/api_simples go 1.19 require ( github.com/go-redis/redis/v9 v9.0.0-beta.2 github.com/gofiber/fiber/v2 v2.36.0 ) Este arquivo me ajuda a resolver v\u00e1rias quest\u00f5es do workspace de go, pois posso criar um reposit\u00f3rio de Go onde eu quiser e isso n\u00e3o me traz um problema, por exemplo, de acessar packages tanto externos quanto locais principalmente locais. Para criar ele somente realizei o comando go mod init com o caminho do projeto no github como argumento que no caso \u00e9 github.com/XandeCoding/codigos-de-artigos/golang/api_simples , n\u00e3o necessariamente \u00e9 necess\u00e1rio por o caminho do github pode ser utilizado somente o nome do projeto que aqui \u00e9 api_simples por exemplo. Como \u00e9 algo p\u00fablico que quero fazer, acho que \u00e9 interessante colocar o caminho inteiro do reposit\u00f3rio, pois caso eu ou outro algu\u00e9m queira usar um arquivo em espec\u00edfico do projeto ele pode somente referenciar o caminho e tudo deve funcionar perfeitamente, pois o caminho inteiro dos outros arquivos m\u00f3dulos est\u00e3o sendo referenciados. pkg e main.go A pasta pkg \u00e9 a pasta onde vou deixar o c\u00f3digo da minha API, ent\u00e3o todas as features est\u00e3o implementadas dentro desta pasta e o main.go \u00e9 somente um arquivo para inicializar a aplica\u00e7\u00e3o e n\u00e3o implementa nada, por isso ela fica de fora, e usada somente para realizar o start na API. _main.go:_ package main import ( \"github.com/XandeCoding/codigos-de-artigos/golang/api_simples/pkg/routes\" \"github.com/gofiber/fiber/v2\" ) func main() { app := fiber.New() routes.AddRoutes(app) app.Listen(\":3000\") } pkg/configurations Aqui ficam os arquivos de configura\u00e7\u00e3o, neste caso temos o arquivo_database.go_ que configura o acesso ao banco, mas caso tiv\u00e9ssemos outras configura\u00e7\u00f5es de aplica\u00e7\u00f5es ou de ferramentas que seriam utilizadas por uma ou mais partes da aplica\u00e7\u00e3o isso ficaria aqui como, por exemplo, uma configura\u00e7\u00e3o customizada do fiber ou mesmo capturar as vari\u00e1veis de ambiente que \u00e9 um caso de uso bem comum. pkg/entities Entidades em geral podem ser usadas em v\u00e1rios lugares, principalmente neste caso onde uso tanto para receber o dado no endpoint e fazer o parse quanto nas fun\u00e7\u00f5es de adicionar o dado no banco. Ent\u00e3o colocar em um lugar comum se torna bastante interessante, \u00e9 claro que h\u00e1 estruturas onde os packages s\u00e3o separados por features e temos escopos mais fechados, a\u00ed talvez n\u00e3o fosse interessante esta abordagem que estou usando aqui. Exemplo da configura\u00e7\u00e3o de conex\u00e3o com o Redis em _database.go:_ package configurations import \"github.com/go-redis/redis/v9\" func CreateClient() *redis.Client { redisDatabase := redis.NewClient(&redis.Options{ Addr: \"localhost:6379\", Password: \"\", DB: 0, }) return redisDatabase } pkg/repositores Neste pacote ficam as fun\u00e7\u00f5es que trabalham diretamente com o banco Redis ent\u00e3o nelas eu recebo o dado de um livro no caso a entidade book e tenho fun\u00e7\u00f5es que tanto a inserem, atualizam e a deletam do banco. Caso tivesse outra entidade a ser tratada no banco como por exemplo, library_ onde trataria de dados sobre livrarias, ela seria um arquivo separado onde ficariam somente fun\u00e7\u00f5es relacionadas a estas informa\u00e7\u00f5es. Fragmento de *book_repository.go:* type Repository struct { database *redis.Client } ... func (rdb Repository) GetBook(name string) string { ctx, cancel := getContext() defer cancel() book, _ := rdb.database.Get(ctx, name).Result() return book } pkg/routes Seguindo o exemplo de outras partes da aplica\u00e7\u00e3o separei as rotas por arquivos, mesmo que tenhamos um arquivo routes.go que inicializa estas rotas \u00e9 interessante deixarmos as rotas de determinado recurso separados, pois facilita a leitura e o entendimento de outras pessoas que possam vir a dar manuten\u00e7\u00e3o no c\u00f3digo. Parte em que inicializo as rotas em _routes.go:_ func AddRoutes(app *fiber.App) *fiber.App { bookRouter(app) return app } Algo que curti muito \u00e9 que em book_router.go somente explicitei as rotas, m\u00e9todos e as fun\u00e7\u00f5es que s\u00e3o os chamados handlers que est\u00e3o em outra parte da aplica\u00e7\u00e3o. Outra coisa importante \u00e9 que esta estrutura possibilita que criemos inst\u00e2ncias que podem ser reutilizadas em todos os endpoints deste determinado recurso que no caso foi uma inst\u00e2ncia de conex\u00e3o com o banco Redis. Fragmento onde explicito os recursos de _book_router:_ func bookRouter(app *fiber.App) *fiber.App { bookRepository := repositories.NewRepository() app.Get(\"/book/:name\", handlers.GetBookHandler(bookRepository)) app.Put(\"/book\", handlers.SetBookHandler(bookRepository)) app.Delete(\"/book/:name\", handlers.DeleteBookHandler(bookRepository)) return app } pkg/handlers Em handlers deixo as fun\u00e7\u00f5es que v\u00e3o ser chamadas pelos endpoints, por exemplo, o endpoint _PUT: /book_ chama a fun\u00e7\u00e3o SetBookHandler que est\u00e1 no arquivo book_handler.go que retorna a fun\u00e7\u00e3o que vai ser chamada quando este recurso for acessado. C\u00f3digo da fun\u00e7\u00e3o _SetBookHandler:_ func SetBookHandler(bookRepository *repositories.Repository) fiber.Handler { return func(c *fiber.Ctx) error { book := new(entities.Book) err := c.BodyParser(book) if err != nil { message := map[string]string{\"message\": \"Invalid entry data\"} return c.Status(400).JSON(message) } book_name_normalized := strings.ReplaceAll( strings.ToLower(book.Name), \" \", \"_\", ) key := \"book:\" + book_name_normalized bookRepository.SetBook(key, book) return c.Send(c.Body()) } }","title":"Estrutura"},{"location":"Construindo%20uma%20API%20organizadinha%20em%20Golang%20usando%20Fiber/#pronto","text":"Espero ter ajudado com alguns pontos de dificuldade que quando come\u00e7amos uma API principalmente em uma linguagem que n\u00e3o temos tanta intimidade que foi o meu caso pode nos deixar um pouco confusos, mas este foi uma estrutura inicial que curti bastante, mas qualquer coment\u00e1rio ou feedback pode comentar que \u00e9 sempre bom melhorarmos n\u00e3o \u00e9?, at\u00e9 a pr\u00f3xima","title":"Pronto"},{"location":"Criando%20uma%20API%20de%20p%C3%A1ginas%20est%C3%A1ticas%20b%C3%A1sica%20com%20Deno%20%F0%9F%A6%95/","text":"Criando uma API de p\u00e1ginas est\u00e1ticas b\u00e1sica com Deno \ud83e\udd95 Bom dia! meus caros compatriotas mineradores das profundezas do StackOverflow, esses \u00faltimos dias me veio uma vontade de como bom goiano dar uma sofrida e ao inv\u00e9s de botar Maril\u00eda Mendon\u00e7a preferi mexer com o famoso (ainda \u00e9?) Deno que para minha grata supresa n\u00e3o foi sofrimento nenhum! Porque minha surpresa? Primeiro o ecossistema \u00e9 bem simplista e receptivo para novos usu\u00e1rios a toolkit que vem instalada trazem ferramentas como deno fmt que formata o c\u00f3digo de forma autom\u00e1tica e um deno lint que achei sensacional fora que consegui configurar o debug no vscode tranquilamente, outro ponto que gostei bastante foi a standard library ser bem completa e vir com uma tipagem bem rica (sim sou um type junky). Claro que h\u00e1 outros pontos que s\u00e3o os principais diferencias para o seu irm\u00e3o mais velho Node, mas n\u00e3o vamos focar nas rusgas de fam\u00edlia se quiser dar uma olhada a p\u00e1gina inicial deno.land cita alguns outros pontos legais. Ideia inicial Bem como objeto de estudo fiz uma API bem simples para testar algumas coisas como a integra\u00e7\u00e3o do TypeScript com arquivos JSX que \u00e9 algo que eu li na documenta\u00e7\u00e3o do Deno e curti bastante, ent\u00e3o tive a ideia de fazer algo s\u00f3 para servir p\u00e1ginas est\u00e1ticas e ponto , \u00fanico diferencial aqui \u00e9 que usei o m\u00e1ximo poss\u00edvel da standard library. Disclaimer: Olha a ideia n\u00e3o \u00e9 ser perfeito inclusive se tiverem erros por favor me avise mas tentei deixar o escopo bem fechado porque se n\u00e3o nunca iria terminar o que tinha proposto para mim mesmo e fiquei feliz com o resultado, tinha como fazer mais algumas coisas legais mas \u00e9 aquilo quem n\u00e3o faz deploy de bug em produ\u00e7\u00e3o n\u00e3o se diverte!. (Sim \u00e9 s\u00f3 uma piada, caso esteja se perguntando) E a aventura se inicia De in\u00edcio foi bem simples de instalar inclusive foi s\u00f3 um comando que baixava j\u00e1 um script de instala\u00e7\u00e3o e j\u00e1 o executava e pronto j\u00e1 estava com o deno instalado fiz alguns testes e depois configurei para usar o asdf o que n\u00e3o \u00e9 necess\u00e1rio mas eu gosto da ferramenta pela possibilidade de versionar a runtime e pronto com tudo configurado comecei a programar. E come\u00e7ar a botar a m\u00e3o na massa foi algo bem simples, por assim dizer, n\u00e3o \u00e9 necess\u00e1rio dar um init para rodar basta dar um deno run e se tiver algo que ele precise instalar ele baixa na hora da execu\u00e7\u00e3o e adiciona as informa\u00e7\u00f5es da vers\u00e3o em um package-lock.json algo bem semelhante ao que acontece no Node.js, mas de forma mais minimalista, por assim dizer j\u00e1 que n\u00e3o \u00e9 necess\u00e1rio ter um package.json para interagirmos e configurarmos, algo que achei ruim disso \u00e9 que para o meu caso tive que criar um makefile para agilizar um pouco a execu\u00e7\u00e3o vamos falar disso mais \u00e0 frente. Olha aqui eu vou aos pouquinhos e vou explicar alguns detalhes de TypeScript para quem n\u00e3o est\u00e1 muito familiarizado n\u00e3o se perder. Bem aqui j\u00e1 come\u00e7am as diferen\u00e7as Deno usa um esquema de import de libs externas via url, isso traz uma coisa \u00f3tima que \u00e9 a possibilidade de usar arquivos independentes da onde estejam da internet se \u00e9 poss\u00edvel fazer o download ele funciona. Neste caso estou importando e j\u00e1 retirando somente a fun\u00e7\u00e3o de serve que vamos usar para iniciar o servidor. Abaixo temos um tipo que explicita qual vai ser o \"formato\" de um objeto de rota, se pararmos para pensar o m\u00ednimo que precisamos para criar uma rota (endpoint para os mais \u00edntimos) \u00e9 ter uma a\u00e7\u00e3o e ter o \"caminho\" para essa a\u00e7\u00e3o ser executada, por exemplo o caminho pode ser um '/index' e a a\u00e7\u00e3o \u00e9 entregar um simples HTML. Criei isso para facilitar para quem for criar uma rota no futuro n\u00e3o ter que adivinhar ou ter que dar uma de detetive para descobrir os dados necess\u00e1rios para uma rota funcional ser criada. Basicamente esse k se refere a chave do objeto e que deve ser string, e essa mesma chave vai receber como valor uma Promise que retorna uma inst\u00e2ncia de response. Tabom ficou meio confuso mas basicamente eu vou ter um objeto JSON que s\u00f3 recebe chaves em texto como letras e frases e elas v\u00e3o ter como valor uma fun\u00e7\u00e3o ass\u00edncrona que retorna a resposta para o cliente, isso vai ficar mais claro mais a frente. Agora vamos fazer o core da nossa aplica\u00e7\u00e3o que \u00e9 o que vai receber as chamadas e encaminhar para as rotas certas. Bem vou me aprofundar mais na fun\u00e7\u00e3o initServerHandler nela eu filtro os m\u00e9todos como vou somente servir p\u00e1ginas est\u00e1ticas quero receber somente chamadas do tipo 'GET', depois eu crio uma url isso \u00e9 legal para poder pegar o pathname que o caminho, por exemplo, se eu colocar no meu navegador o endere\u00e7o https://localhost:7000/teste o pathname \u00e9 /teste isso \u00e9 uma abordagem bem simplista, mas para nosso caso serve muito bem. Lembra da nossa declara\u00e7\u00e3o IRoute aqui que come\u00e7a a brincadeira vamos acessar de forma direta a rota e j\u00e1 vamos executar a fun\u00e7\u00e3o que est\u00e1 salva nela, por exemplo, em um objeto como o abaixo: { '/': async () => new Response('Hello World') } Ao entrar na chave '/' ele me traz a fun\u00e7\u00e3o que mostra um Hello World bem bonito para o usu\u00e1rio. Agora mais abaixo temos a fun\u00e7\u00e3o serve nela que a brincadeira j\u00e1 come\u00e7a a rolar, ela inicia a fun\u00e7\u00e3o initServerHandler e faz um bind ? O que seria esse tal de bind? Bem para entendermos isso precisamos pensar em como essa fun\u00e7\u00e3o vai ser executada, pois, essa fun\u00e7\u00e3o ela vai ser entregue para o server, mas n\u00e3o ir\u00e1 ser executada ali, mas quando ele receber uma requisi\u00e7\u00e3o e isso ocorre dentro de outro escopo e n\u00e3o na fun\u00e7\u00e3o serve , e nessa altura como a fun\u00e7\u00e3o vai achar a inst\u00e2ncia de HTTPServer com as rotas se ele \u00e9 somente uma fun\u00e7\u00e3o que foi passada para outro escopo? Para isso usamos o bind ele insere a propriedade routes que foi colocada na classe no momento da cria\u00e7\u00e3o da instancia\u00e7\u00e3o do HTTPServer que criamos e a deixa acess\u00edvel dentro dela quase como se ela fosse um \"par\u00e2metro\", mas \u00e9 acessada como uma propriedade da fun\u00e7\u00e3o, por isso quando damos um this.routes conseguimos acessar as rotas, ele acessa a propriedade routes da fun\u00e7\u00e3o e n\u00e3o da classe HTTPServer . E a aventura estava ficando sem fim Essa brincadeira estava at\u00e9 bem divertida, mas eu j\u00e1 tinha tido ido o suficiente adentro da toca do coelho e estava satisfeito (Mundo de Alice vibes ). Ent\u00e3o fiz uma fun\u00e7\u00e3o para renderizar HTML puro e arquivos JSX, bem arquivos HTML n\u00e3o tem muito segredo ent\u00e3o vamos dar uma olhada em como fazer isso usando JSX. Algo que n\u00e3o sabia era que Typescript estava dando suporte nativo para JSX isso significa que podemos com algumas configura\u00e7\u00f5es importar estes arquivos e us\u00e1-los para renderizar p\u00e1ginas para nossos clientes. Para isso precisamos fazer uma pequena configura\u00e7\u00e3o no nosso arquivo tsconfig.json o meu ficou dessa forma. O jsx se refere a como o arquivo JSX vai ser constru\u00eddo ao ser importado, essa config react-jsx permite que usemos outra runtime, nesse caso estamos usando o Preact como vamos ver abaixo jsxImportSource Essa propriedade em conjunto com a op\u00e7\u00e3o acima define qual vai ser o m\u00f3dulo que vai ser usado para importar o JSX e construir o componente ao ser exportado. Agora temos a fun\u00e7\u00e3o que importa o arquivo JSX de forma gen\u00e9rica (n\u00e3o queremos ter que criar uma fun\u00e7\u00e3o para cada JSX que criemos n\u00e3o \u00e9?) N\u00e3o vou me apegar muito os detalhes de import ou da tipagem dos tipos, pois isso n\u00e3o \u00e9 a m\u00e1gica (e j\u00e1 conversamos sobre esse Record mais acima tamb\u00e9m). O que ela faz \u00e9 basicamente importar o arquivo e usar uma fun\u00e7\u00e3o de render do Preact e aqui est\u00e1 a m\u00e1gica. Primeiro importamos a lib preact-render-to-string do cdn skypack ele tem bastante libs j\u00e1 configuradas para rodar no Deno, muita coisa que roda no Node funciona no Deno, mas algumas precisam de altera\u00e7\u00e3o principalmente as que fazem opera\u00e7\u00f5es no disco, ent\u00e3o j\u00e1 ter algo configurado facilita bastante. Mas na fun\u00e7\u00e3o n\u00f3s importamos o componente de forma ass\u00edncrona (legal n\u00e9? JavaScript \u00e0s vezes nos proporciona essas boas surpresas :the_horns:), quando esse arquivo \u00e9 importado a fun\u00e7\u00e3o j\u00e1 passa por uma transforma\u00e7\u00e3o usando o Preact que configuramos mais cedo e se torna um arquivo utiliz\u00e1vel dentro do nosso c\u00f3digo, n\u00e3o se esque\u00e7a que TypeScript transforma tudo em JavaScript antes de ser executado o JSX s\u00f3 passa por um processo um pouco diferente. Este arquivo acima \u00e9 um componente que criei bem simples somente para demonstrar, veja que estou exportando ele como default isso ajuda na hora de importar na fun\u00e7\u00e3o acima, pois j\u00e1 sei bem onde acessar o componente no m\u00f3dulo. Com essa fun\u00e7\u00e3o de renderiza\u00e7\u00e3o podemos j\u00e1 us\u00e1-la no nosso handler e nele o arquivo \u00e9 renderizado e adicionado um headers e uma response v\u00e1lida \u00e9 retornada (sim algumas coisas s\u00e3o bem chatas quando n\u00e3o se usa um framework ) E para utilizarmos este handler basta configurarmos a nossa rota, lembra do nosso HTTPServer vamos brincar com ele agora, mas n\u00e3o tem muita emo\u00e7\u00e3o (felizmente). Se voc\u00ea tem uma mem\u00f3ria boa (ou somente rolou a p\u00e1gina para cima \ud83e\udd37) vai lembrar da interface que o nosso HTTPServer recebe, basta mandar a rota e o handler que \u00e9 a fun\u00e7\u00e3o que executa a a\u00e7\u00e3o ao acessamos aquele endpoint e depois usarmos a fun\u00e7\u00e3o serve . Executando Para executar h\u00e1 um diferencial, Deno pede (insiste melhor dizendo) que voc\u00ea especifique as permiss\u00f5es que a aplica\u00e7\u00e3o dever\u00e1 ter no nosso caso, \u00e9 necess\u00e1rio a de net , pois \u00e9 uma API web acho que est\u00e1 explicito o porque (ela precisa acessar a rede) e de read pois vamos ler alguns arquivos. Um ponto interessante \u00e9 que se fossemos usar somente o import comum n\u00e3o precisar\u00edamos, pois o mesmo j\u00e1 estaria incluso na hora que rod\u00e1ssemos a aplica\u00e7\u00e3o, mas como os arquivos que cont\u00e9m os componentes JSX s\u00e3o importados de forma ass\u00edncrona sendo lidos em tempo de execu\u00e7\u00e3o, ele precisa que demos permiss\u00e3o, pois n\u00e3o \u00e9 adicionado na hora que compilamos mas depois ou nunca depende se vamos acessar a rota que usa o componente. Segue abaixo o c\u00f3digo para executar o brinquedo. deno run --config tsconfig.json --allow-net --allow-read ./src/main.ts Depois de 20 mil l\u00e9guas submarinas Chegamos ao final espero que n\u00e3o tenha sido uma viagem para o mundo da Chatol\u00e2ndia a leitura desse texto, mas sim uma olhada pelo retrovisor ap\u00f3s o hype do Deno passar de seu ecossistema e de algumas diferen\u00e7as do seu irm\u00e3o mais velho Node.js. \ud83d\udc4b\ud83d\udc4b\ud83d\udc4b","title":"Criando uma API de p\u00e1ginas est\u00e1ticas b\u00e1sica com Deno \ud83e\udd95"},{"location":"Criando%20uma%20API%20de%20p%C3%A1ginas%20est%C3%A1ticas%20b%C3%A1sica%20com%20Deno%20%F0%9F%A6%95/#criando-uma-api-de-paginas-estaticas-basica-com-deno","text":"Bom dia! meus caros compatriotas mineradores das profundezas do StackOverflow, esses \u00faltimos dias me veio uma vontade de como bom goiano dar uma sofrida e ao inv\u00e9s de botar Maril\u00eda Mendon\u00e7a preferi mexer com o famoso (ainda \u00e9?) Deno que para minha grata supresa n\u00e3o foi sofrimento nenhum! Porque minha surpresa? Primeiro o ecossistema \u00e9 bem simplista e receptivo para novos usu\u00e1rios a toolkit que vem instalada trazem ferramentas como deno fmt que formata o c\u00f3digo de forma autom\u00e1tica e um deno lint que achei sensacional fora que consegui configurar o debug no vscode tranquilamente, outro ponto que gostei bastante foi a standard library ser bem completa e vir com uma tipagem bem rica (sim sou um type junky). Claro que h\u00e1 outros pontos que s\u00e3o os principais diferencias para o seu irm\u00e3o mais velho Node, mas n\u00e3o vamos focar nas rusgas de fam\u00edlia se quiser dar uma olhada a p\u00e1gina inicial deno.land cita alguns outros pontos legais.","title":"Criando uma API de p\u00e1ginas est\u00e1ticas b\u00e1sica com Deno \ud83e\udd95"},{"location":"Criando%20uma%20API%20de%20p%C3%A1ginas%20est%C3%A1ticas%20b%C3%A1sica%20com%20Deno%20%F0%9F%A6%95/#ideia-inicial","text":"Bem como objeto de estudo fiz uma API bem simples para testar algumas coisas como a integra\u00e7\u00e3o do TypeScript com arquivos JSX que \u00e9 algo que eu li na documenta\u00e7\u00e3o do Deno e curti bastante, ent\u00e3o tive a ideia de fazer algo s\u00f3 para servir p\u00e1ginas est\u00e1ticas e ponto , \u00fanico diferencial aqui \u00e9 que usei o m\u00e1ximo poss\u00edvel da standard library. Disclaimer: Olha a ideia n\u00e3o \u00e9 ser perfeito inclusive se tiverem erros por favor me avise mas tentei deixar o escopo bem fechado porque se n\u00e3o nunca iria terminar o que tinha proposto para mim mesmo e fiquei feliz com o resultado, tinha como fazer mais algumas coisas legais mas \u00e9 aquilo quem n\u00e3o faz deploy de bug em produ\u00e7\u00e3o n\u00e3o se diverte!. (Sim \u00e9 s\u00f3 uma piada, caso esteja se perguntando)","title":"Ideia inicial"},{"location":"Criando%20uma%20API%20de%20p%C3%A1ginas%20est%C3%A1ticas%20b%C3%A1sica%20com%20Deno%20%F0%9F%A6%95/#e-a-aventura-se-inicia","text":"De in\u00edcio foi bem simples de instalar inclusive foi s\u00f3 um comando que baixava j\u00e1 um script de instala\u00e7\u00e3o e j\u00e1 o executava e pronto j\u00e1 estava com o deno instalado fiz alguns testes e depois configurei para usar o asdf o que n\u00e3o \u00e9 necess\u00e1rio mas eu gosto da ferramenta pela possibilidade de versionar a runtime e pronto com tudo configurado comecei a programar. E come\u00e7ar a botar a m\u00e3o na massa foi algo bem simples, por assim dizer, n\u00e3o \u00e9 necess\u00e1rio dar um init para rodar basta dar um deno run e se tiver algo que ele precise instalar ele baixa na hora da execu\u00e7\u00e3o e adiciona as informa\u00e7\u00f5es da vers\u00e3o em um package-lock.json algo bem semelhante ao que acontece no Node.js, mas de forma mais minimalista, por assim dizer j\u00e1 que n\u00e3o \u00e9 necess\u00e1rio ter um package.json para interagirmos e configurarmos, algo que achei ruim disso \u00e9 que para o meu caso tive que criar um makefile para agilizar um pouco a execu\u00e7\u00e3o vamos falar disso mais \u00e0 frente. Olha aqui eu vou aos pouquinhos e vou explicar alguns detalhes de TypeScript para quem n\u00e3o est\u00e1 muito familiarizado n\u00e3o se perder. Bem aqui j\u00e1 come\u00e7am as diferen\u00e7as Deno usa um esquema de import de libs externas via url, isso traz uma coisa \u00f3tima que \u00e9 a possibilidade de usar arquivos independentes da onde estejam da internet se \u00e9 poss\u00edvel fazer o download ele funciona. Neste caso estou importando e j\u00e1 retirando somente a fun\u00e7\u00e3o de serve que vamos usar para iniciar o servidor. Abaixo temos um tipo que explicita qual vai ser o \"formato\" de um objeto de rota, se pararmos para pensar o m\u00ednimo que precisamos para criar uma rota (endpoint para os mais \u00edntimos) \u00e9 ter uma a\u00e7\u00e3o e ter o \"caminho\" para essa a\u00e7\u00e3o ser executada, por exemplo o caminho pode ser um '/index' e a a\u00e7\u00e3o \u00e9 entregar um simples HTML. Criei isso para facilitar para quem for criar uma rota no futuro n\u00e3o ter que adivinhar ou ter que dar uma de detetive para descobrir os dados necess\u00e1rios para uma rota funcional ser criada. Basicamente esse k se refere a chave do objeto e que deve ser string, e essa mesma chave vai receber como valor uma Promise que retorna uma inst\u00e2ncia de response. Tabom ficou meio confuso mas basicamente eu vou ter um objeto JSON que s\u00f3 recebe chaves em texto como letras e frases e elas v\u00e3o ter como valor uma fun\u00e7\u00e3o ass\u00edncrona que retorna a resposta para o cliente, isso vai ficar mais claro mais a frente. Agora vamos fazer o core da nossa aplica\u00e7\u00e3o que \u00e9 o que vai receber as chamadas e encaminhar para as rotas certas. Bem vou me aprofundar mais na fun\u00e7\u00e3o initServerHandler nela eu filtro os m\u00e9todos como vou somente servir p\u00e1ginas est\u00e1ticas quero receber somente chamadas do tipo 'GET', depois eu crio uma url isso \u00e9 legal para poder pegar o pathname que o caminho, por exemplo, se eu colocar no meu navegador o endere\u00e7o https://localhost:7000/teste o pathname \u00e9 /teste isso \u00e9 uma abordagem bem simplista, mas para nosso caso serve muito bem. Lembra da nossa declara\u00e7\u00e3o IRoute aqui que come\u00e7a a brincadeira vamos acessar de forma direta a rota e j\u00e1 vamos executar a fun\u00e7\u00e3o que est\u00e1 salva nela, por exemplo, em um objeto como o abaixo: { '/': async () => new Response('Hello World') } Ao entrar na chave '/' ele me traz a fun\u00e7\u00e3o que mostra um Hello World bem bonito para o usu\u00e1rio. Agora mais abaixo temos a fun\u00e7\u00e3o serve nela que a brincadeira j\u00e1 come\u00e7a a rolar, ela inicia a fun\u00e7\u00e3o initServerHandler e faz um bind ? O que seria esse tal de bind? Bem para entendermos isso precisamos pensar em como essa fun\u00e7\u00e3o vai ser executada, pois, essa fun\u00e7\u00e3o ela vai ser entregue para o server, mas n\u00e3o ir\u00e1 ser executada ali, mas quando ele receber uma requisi\u00e7\u00e3o e isso ocorre dentro de outro escopo e n\u00e3o na fun\u00e7\u00e3o serve , e nessa altura como a fun\u00e7\u00e3o vai achar a inst\u00e2ncia de HTTPServer com as rotas se ele \u00e9 somente uma fun\u00e7\u00e3o que foi passada para outro escopo? Para isso usamos o bind ele insere a propriedade routes que foi colocada na classe no momento da cria\u00e7\u00e3o da instancia\u00e7\u00e3o do HTTPServer que criamos e a deixa acess\u00edvel dentro dela quase como se ela fosse um \"par\u00e2metro\", mas \u00e9 acessada como uma propriedade da fun\u00e7\u00e3o, por isso quando damos um this.routes conseguimos acessar as rotas, ele acessa a propriedade routes da fun\u00e7\u00e3o e n\u00e3o da classe HTTPServer .","title":"E a aventura se inicia"},{"location":"Criando%20uma%20API%20de%20p%C3%A1ginas%20est%C3%A1ticas%20b%C3%A1sica%20com%20Deno%20%F0%9F%A6%95/#e-a-aventura-estava-ficando-sem-fim","text":"Essa brincadeira estava at\u00e9 bem divertida, mas eu j\u00e1 tinha tido ido o suficiente adentro da toca do coelho e estava satisfeito (Mundo de Alice vibes ). Ent\u00e3o fiz uma fun\u00e7\u00e3o para renderizar HTML puro e arquivos JSX, bem arquivos HTML n\u00e3o tem muito segredo ent\u00e3o vamos dar uma olhada em como fazer isso usando JSX. Algo que n\u00e3o sabia era que Typescript estava dando suporte nativo para JSX isso significa que podemos com algumas configura\u00e7\u00f5es importar estes arquivos e us\u00e1-los para renderizar p\u00e1ginas para nossos clientes. Para isso precisamos fazer uma pequena configura\u00e7\u00e3o no nosso arquivo tsconfig.json o meu ficou dessa forma. O jsx se refere a como o arquivo JSX vai ser constru\u00eddo ao ser importado, essa config react-jsx permite que usemos outra runtime, nesse caso estamos usando o Preact como vamos ver abaixo jsxImportSource Essa propriedade em conjunto com a op\u00e7\u00e3o acima define qual vai ser o m\u00f3dulo que vai ser usado para importar o JSX e construir o componente ao ser exportado. Agora temos a fun\u00e7\u00e3o que importa o arquivo JSX de forma gen\u00e9rica (n\u00e3o queremos ter que criar uma fun\u00e7\u00e3o para cada JSX que criemos n\u00e3o \u00e9?) N\u00e3o vou me apegar muito os detalhes de import ou da tipagem dos tipos, pois isso n\u00e3o \u00e9 a m\u00e1gica (e j\u00e1 conversamos sobre esse Record mais acima tamb\u00e9m). O que ela faz \u00e9 basicamente importar o arquivo e usar uma fun\u00e7\u00e3o de render do Preact e aqui est\u00e1 a m\u00e1gica. Primeiro importamos a lib preact-render-to-string do cdn skypack ele tem bastante libs j\u00e1 configuradas para rodar no Deno, muita coisa que roda no Node funciona no Deno, mas algumas precisam de altera\u00e7\u00e3o principalmente as que fazem opera\u00e7\u00f5es no disco, ent\u00e3o j\u00e1 ter algo configurado facilita bastante. Mas na fun\u00e7\u00e3o n\u00f3s importamos o componente de forma ass\u00edncrona (legal n\u00e9? JavaScript \u00e0s vezes nos proporciona essas boas surpresas :the_horns:), quando esse arquivo \u00e9 importado a fun\u00e7\u00e3o j\u00e1 passa por uma transforma\u00e7\u00e3o usando o Preact que configuramos mais cedo e se torna um arquivo utiliz\u00e1vel dentro do nosso c\u00f3digo, n\u00e3o se esque\u00e7a que TypeScript transforma tudo em JavaScript antes de ser executado o JSX s\u00f3 passa por um processo um pouco diferente. Este arquivo acima \u00e9 um componente que criei bem simples somente para demonstrar, veja que estou exportando ele como default isso ajuda na hora de importar na fun\u00e7\u00e3o acima, pois j\u00e1 sei bem onde acessar o componente no m\u00f3dulo. Com essa fun\u00e7\u00e3o de renderiza\u00e7\u00e3o podemos j\u00e1 us\u00e1-la no nosso handler e nele o arquivo \u00e9 renderizado e adicionado um headers e uma response v\u00e1lida \u00e9 retornada (sim algumas coisas s\u00e3o bem chatas quando n\u00e3o se usa um framework ) E para utilizarmos este handler basta configurarmos a nossa rota, lembra do nosso HTTPServer vamos brincar com ele agora, mas n\u00e3o tem muita emo\u00e7\u00e3o (felizmente). Se voc\u00ea tem uma mem\u00f3ria boa (ou somente rolou a p\u00e1gina para cima \ud83e\udd37) vai lembrar da interface que o nosso HTTPServer recebe, basta mandar a rota e o handler que \u00e9 a fun\u00e7\u00e3o que executa a a\u00e7\u00e3o ao acessamos aquele endpoint e depois usarmos a fun\u00e7\u00e3o serve .","title":"E a aventura estava ficando sem fim"},{"location":"Criando%20uma%20API%20de%20p%C3%A1ginas%20est%C3%A1ticas%20b%C3%A1sica%20com%20Deno%20%F0%9F%A6%95/#executando","text":"Para executar h\u00e1 um diferencial, Deno pede (insiste melhor dizendo) que voc\u00ea especifique as permiss\u00f5es que a aplica\u00e7\u00e3o dever\u00e1 ter no nosso caso, \u00e9 necess\u00e1rio a de net , pois \u00e9 uma API web acho que est\u00e1 explicito o porque (ela precisa acessar a rede) e de read pois vamos ler alguns arquivos. Um ponto interessante \u00e9 que se fossemos usar somente o import comum n\u00e3o precisar\u00edamos, pois o mesmo j\u00e1 estaria incluso na hora que rod\u00e1ssemos a aplica\u00e7\u00e3o, mas como os arquivos que cont\u00e9m os componentes JSX s\u00e3o importados de forma ass\u00edncrona sendo lidos em tempo de execu\u00e7\u00e3o, ele precisa que demos permiss\u00e3o, pois n\u00e3o \u00e9 adicionado na hora que compilamos mas depois ou nunca depende se vamos acessar a rota que usa o componente. Segue abaixo o c\u00f3digo para executar o brinquedo. deno run --config tsconfig.json --allow-net --allow-read ./src/main.ts","title":"Executando"},{"location":"Criando%20uma%20API%20de%20p%C3%A1ginas%20est%C3%A1ticas%20b%C3%A1sica%20com%20Deno%20%F0%9F%A6%95/#depois-de-20-mil-leguas-submarinas","text":"Chegamos ao final espero que n\u00e3o tenha sido uma viagem para o mundo da Chatol\u00e2ndia a leitura desse texto, mas sim uma olhada pelo retrovisor ap\u00f3s o hype do Deno passar de seu ecossistema e de algumas diferen\u00e7as do seu irm\u00e3o mais velho Node.js. \ud83d\udc4b\ud83d\udc4b\ud83d\udc4b","title":"Depois de 20 mil l\u00e9guas submarinas"},{"location":"Docker%20Compose%20-%20MariaDB/","text":"Docker Compose - MariaDB Sabe quando voc\u00ea tem que subir um banco de dados pra fazer uma api ou s\u00f3 rodar um projeto na sua m\u00e1quina e n\u00e3o quer perder todo aquele tempo instalando e configurando na sua m\u00e1quina? Outro dia tive que fazer isso e tive um trabalhinho ent\u00e3o quis compartilhar aqui para caso algu\u00e9m precise n\u00e3o demore quase uma hora com um erro porque colocou as vari\u00e1veis de ambiente errado Esse \u00e9 um script que fiz para usar com o docker-compose, ent\u00e3o caso n\u00e3o tenha ele instalado \u00e9 s\u00f3 ir no site do docker e instalar eles tem um guia bem legal de como instalar. Ent\u00e3o depois de instalado \u00e9 s\u00f3 colocar esse script dentro de um arquivo ' docker-compose.yml ' e rodar o comando '_docker-compose up' na pasta onde est\u00e1 o arquivo que ele j\u00e1 vai estar rodando na porta 3306 que inclusive pode ser alterada assim como as vari\u00e1veis de ambiente ali em baixo. Espero que tenha te ajudado e xau version: \"3\" services: bancoMariaDb: image: mariadb restart: always container_name: bancoMariaDb ports: - \"3306:3306\" volumes: - .:/code environment: - MYSQL_USER=friends - MYSQL_ROOT_PASSWORD=friends - MYSQL_DATABASE=friends","title":"Docker Compose - MariaDB"},{"location":"Docker%20Compose%20-%20MariaDB/#docker-compose-mariadb","text":"Sabe quando voc\u00ea tem que subir um banco de dados pra fazer uma api ou s\u00f3 rodar um projeto na sua m\u00e1quina e n\u00e3o quer perder todo aquele tempo instalando e configurando na sua m\u00e1quina? Outro dia tive que fazer isso e tive um trabalhinho ent\u00e3o quis compartilhar aqui para caso algu\u00e9m precise n\u00e3o demore quase uma hora com um erro porque colocou as vari\u00e1veis de ambiente errado Esse \u00e9 um script que fiz para usar com o docker-compose, ent\u00e3o caso n\u00e3o tenha ele instalado \u00e9 s\u00f3 ir no site do docker e instalar eles tem um guia bem legal de como instalar. Ent\u00e3o depois de instalado \u00e9 s\u00f3 colocar esse script dentro de um arquivo ' docker-compose.yml ' e rodar o comando '_docker-compose up' na pasta onde est\u00e1 o arquivo que ele j\u00e1 vai estar rodando na porta 3306 que inclusive pode ser alterada assim como as vari\u00e1veis de ambiente ali em baixo. Espero que tenha te ajudado e xau version: \"3\" services: bancoMariaDb: image: mariadb restart: always container_name: bancoMariaDb ports: - \"3306:3306\" volumes: - .:/code environment: - MYSQL_USER=friends - MYSQL_ROOT_PASSWORD=friends - MYSQL_DATABASE=friends","title":"Docker Compose - MariaDB"},{"location":"Documenta%C3%A7%C3%A3o%20Autom%C3%A1tica%20usando%20MkDocs%20e%20Python/","text":"Documenta\u00e7\u00e3o Autom\u00e1tica usando MkDocs e Python Algo que curto muito \u00e9 ficar navegando na documenta\u00e7\u00e3o de libs sinceramente uma documenta\u00e7\u00e3o \u00e9 algo que acho lindo de se ver e tamb\u00e9m dif\u00edcil de manter . Imagine toda vez que seja feita alguma altera\u00e7\u00e3o em um comportamento de algo ir \u00e0 p\u00e1gina que explica fazer um copy paste do c\u00f3digo, escrever o que ela faz agora, fazer o build, checar se est\u00e1 tudo certo, \u00eapa n\u00e3o era pra ficar assim... eu j\u00e1 cansei s\u00f3 de imaginar Para facilitar isso existem algumas ferramentas como o MkDocs que facilitam bastante e nos ajudam a automatizar algumas tarefas chatas, nesse artigo vou escrever um pouco do que e como usei para fazer uma documenta\u00e7\u00e3o de uma ferramenta Python, mas um ponto importante disso tudo \u00e9 que MkDocs \u00e9 agn\u00f3stico de linguagem ent\u00e3o pode ser feito com outras linguagens tamb\u00e9m s\u00f3 dar uma olhadinha na documenta\u00e7\u00e3o deles! Ferramenta a ser documentada Fiz uma ferramenta bem simples que realiza uma chamada na PokeAPI e pega informa\u00e7\u00f5es relacionadas a um pok\u00e9mon e mostra no terminal. O c\u00f3digo-fonte pode ser encontrado aqui: Documenta\u00e7\u00e3o autom\u00e1tica Falando um pouco mais do projeto usei o poetry para gerenciar o ambiente virtual e deixar as libs que instalei isoladas do resto do sistema, ningu\u00e9m quer ficar entulhando o pc com um monte de libs n\u00e3o \u00e9 mesmo, mas voc\u00ea pode usar qualquer outra como pyenv , virtualenvwrapper \u00e9 algo indiferente. Bem as libs que instalei est\u00e3o no pyproject.toml e no requirements.txt ent\u00e3o \u00e9 s\u00f3 instalar (um pip install -r requirements.txt deve funcionar) e come\u00e7ar a brincar. https://github.com/XandeCoding/codigos-de-artigos/blob/main/python/documentacao_automatica/docs/assets/pokemon_code.png?raw=true Como documentar Esse \u00e9 um pedacinho do c\u00f3digo que vou usar como exemplo para explicar para voc\u00eas, bem j\u00e1 deve ter reparado nessas \"\"\" elas s\u00e3o Docstrings s\u00e3o usadas para documentar o c\u00f3digo e \u00e9 uma conven\u00e7\u00e3o bastante usada, para documentar m\u00f3dulos, classes, fun\u00e7\u00f5es bem de qualquer forma se for documentar algo recomendo usar . Essas docstrings que v\u00e3o realizar a m\u00e1gica vamos fazer com que elas sejam lidas de forma autom\u00e1tica e inseridas na respectiva p\u00e1gina de documenta\u00e7\u00e3o do m\u00f3dulo. Bem com as docstrings inseridas e explicando o que cada fun\u00e7\u00e3o faz, vamos para prosseguir. Instalando o MkDocs Para instalar usando o Poetry \u00e9 bastante f\u00e1cil basta usar um poetry add ou pip install caso n\u00e3o esteja o usando. Bem instalamos o mkdocs , um tema para deixar a documenta\u00e7\u00e3o mais bonita mkdocs-material isso \u00e9 quest\u00e3o de gosto no caso eu gosto muito, mas tem outros temas caso tenha interesse segue link com mais informa\u00e7\u00f5es temas de MkDocs . E por \u00faltimo temos o mkdocstrings ele \u00e9 um plugin que percorre nosso projeto e insere as docstrings encontradas dentro de nossas p\u00e1ginas. Mas bem com as libs instaladas, o que fazemos agora? n\u00e3o precisa mandar uma carta para o Caldeir\u00e3o do Hulk \u00e9 bem mais simples que isso , seguindo o passo a passo logo voc\u00ea vai ter sua documenta\u00e7\u00e3o pronta. 1 - Abra um terminal dentro da pasta do projeto e use o comando mkdocs new . , isso vai fazer com que os arquivos de configura\u00e7\u00e3o e a pasta docs sejam criadas. 2 - Neste momento voc\u00ea j\u00e1 deve ter um arquivo chamado mkdocs.yml na raiz do seu projeto nele adicione as seguintes configura\u00e7\u00f5es. site_name: Documenta\u00e7\u00e3o Autom\u00e1tica # Pode ser usado o nome da sua aplica\u00e7\u00e3o theme: name: material # Adiciona o tema bonitinho plugins: - search # Plugin que possibilita buscas pela documenta\u00e7\u00e3o - mkdocstrings: # Esse que faz a m\u00e1gica, mais informa\u00e7\u00f5es abaixo handlers: python: setup_commands: - import sys - sys.path.append(\"src\") watch: # Live-reload para os mais \u00edntimos - mais informa\u00e7\u00f5es abaixo tamb\u00e9m - src Obs.: Sim, adicionei o c\u00f3digo meio feio, mas assim voc\u00ea pode s\u00f3 copiar e colar, minha pregui\u00e7a sa\u00fada a sua mkdocstrings: Como j\u00e1 comentei ele que l\u00ea as docstrings e adiciona na respectiva p\u00e1gina que \u00e9 relacionada com o m\u00f3dulo, mas j\u00e1 vamos ver como usar. De resto adicionei um c\u00f3digo Python (sim ele aceita algumas fun\u00e7\u00f5es python na configura\u00e7\u00e3o) para que a pasta src que \u00e9 a que est\u00e1 o meu c\u00f3digo seja reconhecido pela ferramenta, caso alguma pasta sua n\u00e3o seja reconhecida assim como a minha, esse \u00e9 o caminho, basta adicionar ali e pronto. watch: Isso faz com que ao realizar uma altera\u00e7\u00e3o no c\u00f3digo a mesma seja atualizada para que a documenta\u00e7\u00e3o esteja sincronizada com o c\u00f3digo tanto altera\u00e7\u00f5es no c\u00f3digo quanto nas docstrings habilitam o reload da p\u00e1gina, no caso adicionei a pasta onde est\u00e1 a minha aplica\u00e7\u00e3o, inclusive muito legal escrever a doc e j\u00e1 ver a mesma sendo inserida na p\u00e1gina. 3 - Execute mkdocs build e depois mkdocs serve e ele vai deixar a sua doc access\u00edvel pelo navegador pela url http://127.0.0.1:8000/ . Voc\u00ea deve ter algo parecido com isso abaixo. 4 - Ao acessar voc\u00ea vai ter uma pequena introdu\u00e7\u00e3o de como adicionar p\u00e1ginas, mas \u00e9 muito simples basta criar um arquivo .md dentro da pasta docs que est\u00e1 na raiz do seu projeto e a mesma j\u00e1 \u00e9 adicionada na estrutura da documenta\u00e7\u00e3o. Se est\u00e1 tudo indo certo voc\u00ea vai ter uma estrutura parecida com essa abaixo, foco na pasta docs . 5 - Vamos atacar a p\u00e1gina pokemon ela que vou usar para documentar o meu m\u00f3dulo pokem\u00f3n que vimos no \u00ednicio. Temos uma pequena introdu\u00e7\u00e3o do que se trata aquela p\u00e1gina e logo ap\u00f3s vemos um ::: src.pokemon mas do que se trata isso. Bem ele que mapeia o arquivo que ser\u00e1 inserido de forma autom\u00e1tica e partir dali \u00e9 inserido a doc usando o caminho do arquivo (m\u00f3dulo se preferir) que est\u00e1 na pasta src \u00e9 a mesma sintaxe do import, n\u00e3o acredita que funcionou? Olha o resultado a\u00ed em baixo! 6 - Aproveite Fim Em alguns passos j\u00e1 temos uma doc bem legal e caso tenhamos mais um m\u00f3dulo ou seja necess\u00e1rio adicionar mais uma p\u00e1gina \u00e9 bem simples \u00e9 s\u00f3 criar na pasta docs e est\u00e1 feito. Espero que tenha gostado e qualquer d\u00favida (ou se achou alguma coisa errada, acontece nas melhoras fam\u00edlias) s\u00f3 mandar um coment\u00e1rio logo abaixo!","title":"Documenta\u00e7\u00e3o Autom\u00e1tica usando MkDocs e Python"},{"location":"Documenta%C3%A7%C3%A3o%20Autom%C3%A1tica%20usando%20MkDocs%20e%20Python/#documentacao-automatica-usando-mkdocs-e-python","text":"Algo que curto muito \u00e9 ficar navegando na documenta\u00e7\u00e3o de libs sinceramente uma documenta\u00e7\u00e3o \u00e9 algo que acho lindo de se ver e tamb\u00e9m dif\u00edcil de manter . Imagine toda vez que seja feita alguma altera\u00e7\u00e3o em um comportamento de algo ir \u00e0 p\u00e1gina que explica fazer um copy paste do c\u00f3digo, escrever o que ela faz agora, fazer o build, checar se est\u00e1 tudo certo, \u00eapa n\u00e3o era pra ficar assim... eu j\u00e1 cansei s\u00f3 de imaginar Para facilitar isso existem algumas ferramentas como o MkDocs que facilitam bastante e nos ajudam a automatizar algumas tarefas chatas, nesse artigo vou escrever um pouco do que e como usei para fazer uma documenta\u00e7\u00e3o de uma ferramenta Python, mas um ponto importante disso tudo \u00e9 que MkDocs \u00e9 agn\u00f3stico de linguagem ent\u00e3o pode ser feito com outras linguagens tamb\u00e9m s\u00f3 dar uma olhadinha na documenta\u00e7\u00e3o deles!","title":"Documenta\u00e7\u00e3o Autom\u00e1tica usando MkDocs e Python"},{"location":"Documenta%C3%A7%C3%A3o%20Autom%C3%A1tica%20usando%20MkDocs%20e%20Python/#ferramenta-a-ser-documentada","text":"Fiz uma ferramenta bem simples que realiza uma chamada na PokeAPI e pega informa\u00e7\u00f5es relacionadas a um pok\u00e9mon e mostra no terminal. O c\u00f3digo-fonte pode ser encontrado aqui: Documenta\u00e7\u00e3o autom\u00e1tica Falando um pouco mais do projeto usei o poetry para gerenciar o ambiente virtual e deixar as libs que instalei isoladas do resto do sistema, ningu\u00e9m quer ficar entulhando o pc com um monte de libs n\u00e3o \u00e9 mesmo, mas voc\u00ea pode usar qualquer outra como pyenv , virtualenvwrapper \u00e9 algo indiferente. Bem as libs que instalei est\u00e3o no pyproject.toml e no requirements.txt ent\u00e3o \u00e9 s\u00f3 instalar (um pip install -r requirements.txt deve funcionar) e come\u00e7ar a brincar. https://github.com/XandeCoding/codigos-de-artigos/blob/main/python/documentacao_automatica/docs/assets/pokemon_code.png?raw=true","title":"Ferramenta a ser documentada"},{"location":"Documenta%C3%A7%C3%A3o%20Autom%C3%A1tica%20usando%20MkDocs%20e%20Python/#como-documentar","text":"Esse \u00e9 um pedacinho do c\u00f3digo que vou usar como exemplo para explicar para voc\u00eas, bem j\u00e1 deve ter reparado nessas \"\"\" elas s\u00e3o Docstrings s\u00e3o usadas para documentar o c\u00f3digo e \u00e9 uma conven\u00e7\u00e3o bastante usada, para documentar m\u00f3dulos, classes, fun\u00e7\u00f5es bem de qualquer forma se for documentar algo recomendo usar . Essas docstrings que v\u00e3o realizar a m\u00e1gica vamos fazer com que elas sejam lidas de forma autom\u00e1tica e inseridas na respectiva p\u00e1gina de documenta\u00e7\u00e3o do m\u00f3dulo. Bem com as docstrings inseridas e explicando o que cada fun\u00e7\u00e3o faz, vamos para prosseguir.","title":"Como documentar"},{"location":"Documenta%C3%A7%C3%A3o%20Autom%C3%A1tica%20usando%20MkDocs%20e%20Python/#instalando-o-mkdocs","text":"Para instalar usando o Poetry \u00e9 bastante f\u00e1cil basta usar um poetry add ou pip install caso n\u00e3o esteja o usando. Bem instalamos o mkdocs , um tema para deixar a documenta\u00e7\u00e3o mais bonita mkdocs-material isso \u00e9 quest\u00e3o de gosto no caso eu gosto muito, mas tem outros temas caso tenha interesse segue link com mais informa\u00e7\u00f5es temas de MkDocs . E por \u00faltimo temos o mkdocstrings ele \u00e9 um plugin que percorre nosso projeto e insere as docstrings encontradas dentro de nossas p\u00e1ginas. Mas bem com as libs instaladas, o que fazemos agora? n\u00e3o precisa mandar uma carta para o Caldeir\u00e3o do Hulk \u00e9 bem mais simples que isso , seguindo o passo a passo logo voc\u00ea vai ter sua documenta\u00e7\u00e3o pronta. 1 - Abra um terminal dentro da pasta do projeto e use o comando mkdocs new . , isso vai fazer com que os arquivos de configura\u00e7\u00e3o e a pasta docs sejam criadas. 2 - Neste momento voc\u00ea j\u00e1 deve ter um arquivo chamado mkdocs.yml na raiz do seu projeto nele adicione as seguintes configura\u00e7\u00f5es. site_name: Documenta\u00e7\u00e3o Autom\u00e1tica # Pode ser usado o nome da sua aplica\u00e7\u00e3o theme: name: material # Adiciona o tema bonitinho plugins: - search # Plugin que possibilita buscas pela documenta\u00e7\u00e3o - mkdocstrings: # Esse que faz a m\u00e1gica, mais informa\u00e7\u00f5es abaixo handlers: python: setup_commands: - import sys - sys.path.append(\"src\") watch: # Live-reload para os mais \u00edntimos - mais informa\u00e7\u00f5es abaixo tamb\u00e9m - src Obs.: Sim, adicionei o c\u00f3digo meio feio, mas assim voc\u00ea pode s\u00f3 copiar e colar, minha pregui\u00e7a sa\u00fada a sua mkdocstrings: Como j\u00e1 comentei ele que l\u00ea as docstrings e adiciona na respectiva p\u00e1gina que \u00e9 relacionada com o m\u00f3dulo, mas j\u00e1 vamos ver como usar. De resto adicionei um c\u00f3digo Python (sim ele aceita algumas fun\u00e7\u00f5es python na configura\u00e7\u00e3o) para que a pasta src que \u00e9 a que est\u00e1 o meu c\u00f3digo seja reconhecido pela ferramenta, caso alguma pasta sua n\u00e3o seja reconhecida assim como a minha, esse \u00e9 o caminho, basta adicionar ali e pronto. watch: Isso faz com que ao realizar uma altera\u00e7\u00e3o no c\u00f3digo a mesma seja atualizada para que a documenta\u00e7\u00e3o esteja sincronizada com o c\u00f3digo tanto altera\u00e7\u00f5es no c\u00f3digo quanto nas docstrings habilitam o reload da p\u00e1gina, no caso adicionei a pasta onde est\u00e1 a minha aplica\u00e7\u00e3o, inclusive muito legal escrever a doc e j\u00e1 ver a mesma sendo inserida na p\u00e1gina. 3 - Execute mkdocs build e depois mkdocs serve e ele vai deixar a sua doc access\u00edvel pelo navegador pela url http://127.0.0.1:8000/ . Voc\u00ea deve ter algo parecido com isso abaixo. 4 - Ao acessar voc\u00ea vai ter uma pequena introdu\u00e7\u00e3o de como adicionar p\u00e1ginas, mas \u00e9 muito simples basta criar um arquivo .md dentro da pasta docs que est\u00e1 na raiz do seu projeto e a mesma j\u00e1 \u00e9 adicionada na estrutura da documenta\u00e7\u00e3o. Se est\u00e1 tudo indo certo voc\u00ea vai ter uma estrutura parecida com essa abaixo, foco na pasta docs . 5 - Vamos atacar a p\u00e1gina pokemon ela que vou usar para documentar o meu m\u00f3dulo pokem\u00f3n que vimos no \u00ednicio. Temos uma pequena introdu\u00e7\u00e3o do que se trata aquela p\u00e1gina e logo ap\u00f3s vemos um ::: src.pokemon mas do que se trata isso. Bem ele que mapeia o arquivo que ser\u00e1 inserido de forma autom\u00e1tica e partir dali \u00e9 inserido a doc usando o caminho do arquivo (m\u00f3dulo se preferir) que est\u00e1 na pasta src \u00e9 a mesma sintaxe do import, n\u00e3o acredita que funcionou? Olha o resultado a\u00ed em baixo! 6 - Aproveite","title":"Instalando o MkDocs"},{"location":"Documenta%C3%A7%C3%A3o%20Autom%C3%A1tica%20usando%20MkDocs%20e%20Python/#fim","text":"Em alguns passos j\u00e1 temos uma doc bem legal e caso tenhamos mais um m\u00f3dulo ou seja necess\u00e1rio adicionar mais uma p\u00e1gina \u00e9 bem simples \u00e9 s\u00f3 criar na pasta docs e est\u00e1 feito. Espero que tenha gostado e qualquer d\u00favida (ou se achou alguma coisa errada, acontece nas melhoras fam\u00edlias) s\u00f3 mandar um coment\u00e1rio logo abaixo!","title":"Fim"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/","text":"Usando DDD com FastAPI e subaplica\u00e7\u00f5es Estive estudando Domain Driven Design por alguns dias e quero compartilhar alguns conceitos que me ajudaram a pensar e estruturar melhor um projeto e espero que ajudem voc\u00eas tamb\u00e9m. Ali\u00e1s, o que \u00e9 DDD? Domain driven design \u00e9 uma filosofia que ajuda a criar um projeto com foco no dom\u00ednio do mesmo, isso quer dizer que ao entrarmos em um projeto utilizaremos conhecimentos de especialistas da \u00e1rea. Isso ajuda a sabermos para o que exatamente vai ser utilizado, a melhor forma de resolver algum problema e para evitar erros comuns que pessoas que n\u00e3o est\u00e3o familiarizadas com a \u00e1rea possam cometer. Isso ajuda muito, pois se n\u00e3o conhecermos ou n\u00e3o tivermos aux\u00edlio de algu\u00e9m que conhece o dom\u00ednio ou \u00e1rea em que o software atua podemos fazer um projeto que n\u00e3o resolve de forma adequada os problemas ou pior que resolve tudo menos o porque dele ter sido criado. Beleza e o que tem demais? Alguns de voc\u00eas devem estar pensando \"mas poxa isso \u00e9 \u00f3bvio, entender das regras de neg\u00f3cio e programar depois n\u00e3o h\u00e1 nada de mais nisso\" e bem ele n\u00e3o \u00e9 s\u00f3 isso ele vem com uma bagagem de conceitos que ajudam a fazer um design de projeto mais f\u00e1cil de ser entendido, diminuir o acoplamento, e a criar camadas do projeto que ajudam muito na organiza\u00e7\u00e3o e na manuten\u00e7\u00e3o do software. E falando nessas camadas elas s\u00e3o: Dom\u00ednio: Isso \u00e9 onde as regras de neg\u00f3cios da aplica\u00e7\u00e3o ficam. Infraestrutura: Aqui consiste tudo que seu software precisa independentemente de outros partes como m\u00f3dulos, bibliotecas externas, configura\u00e7\u00f5es do banco de dados e etc. Aplica\u00e7\u00e3o: Esta camada serve para fazer o meio de campo entre a camada de interface e a de dom\u00ednio. Interface: Fornece a intera\u00e7\u00e3o com os outros sistemas como servi\u00e7os web, front-end por exemplo. E agora \u00e9 m\u00e3o na massa E chega de teoria e vamos ver c\u00f3digo \ud83d\ude04, fiz um projeto usando o que aprendi de DDD e vou mostrar um pouco dele para voc\u00eas, espero que gostem qualquer d\u00favida ou feedback \u00e9 s\u00f3 comentar que estarei feliz em responder. S\u00f3 relembrando \u00e9 s\u00f3 um estudo que fiz esse projeto n\u00e3o demonstra todos os conceitos de DDD at\u00e9 porque \u00e9 um projeto pequeno n\u00e3o iria caber todos como factories, agregates e por a\u00ed vai. Este projeto \u00e9 s\u00f3 um software que armazena e devolve Todos que no caso s\u00e3o simplesmente notas o qual eu guardo com um id que uso como chave primaria, text para deixar o texto, e completed para saber se ela foi realizada ou n\u00e3o. Nele usei FastAPI que e um framework de Python que tem algumas features bem legais segue link abaixo para quem quiser saber mais assim como o link do meu projeto no GitHub .Ent\u00e3o vamos l\u00e1 pasta por pasta. \ud83d\ude4c Projeto: DDD_FastAPI FastAPI documenta\u00e7\u00e3o Raiz do projeto environment: nele deixei as vari\u00e1veis de ambiente como a chave de seguran\u00e7a e a url do banco de dados, que pegam do sistema caso n\u00e3o tenha pegam as que uso em desenvolvimento. wsgi: chama o uvicorn(ASGI) que \u00e9 a ferramenta que uso para rodar o sistema. modules/todos todos: Aqui eu uso uma feature muito interessante do FastAPI que \u00e9 criar um subaplicativo o qual chamo de todoApp o que faz que ele seja mais desacoplado de outras partes do sistema, e depois eu s\u00f3 o monto no arquivo framework dentro de infrastructure que vamos falar mais tarde. todosModel: Deixo as fun\u00e7\u00f5es que fazem as queries no banco neste arquivo. todosSchema: Aqui fica os schemas que uso para tipar e validar os dados que mando para o banco e que recebo via endpoint. Assim eu organizo os m\u00f3dulos se eu tiver que implementar algo que n\u00e3o seja ligado ao dom\u00ednio de todos como, por exemplo, lidar com alguma planilha ou enviar e-mails eles teriam que ser em m\u00f3dulos diferentes, assim eu evitaria modifica\u00e7\u00f5es em algo que j\u00e1 est\u00e1 funcionando (provavelmente \ud83d\ude05). infrastructure framework: Deixo as configura\u00e7\u00f5es ligados a estrutura do framework no caso ele abrir a conex\u00e3o com o banco de dados assim como fechar, e acoplo a subaplica\u00e7\u00e3o (no caso podemos falar m\u00f3dulo tamb\u00e9m) na aplica\u00e7\u00e3o principal. repository: Aqui usando o Encode como ORM que \u00e9 baseado no SQLAlchemy mas com suporte ao asyncio e crio as tabelas (devido ao tamanho do projeto n\u00e3o deixei separado a instancia\u00e7\u00e3o da tabela de todos) e configuro o banco de dados no caso SQLite. Conclus\u00e3o Espero que tenham gostado do artigo e do projeto teste aplicando DDD gostei bastante do resultado inicial, mas caso tenham visto algum espa\u00e7o para melhoria no projeto estou sempre aberto a sugest\u00f5es. \u270c\ufe0f","title":"Usando DDD com FastAPI e subaplica\u00e7\u00f5es"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#usando-ddd-com-fastapi-e-subaplicacoes","text":"Estive estudando Domain Driven Design por alguns dias e quero compartilhar alguns conceitos que me ajudaram a pensar e estruturar melhor um projeto e espero que ajudem voc\u00eas tamb\u00e9m.","title":"Usando DDD com FastAPI e subaplica\u00e7\u00f5es"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#alias-o-que-e-ddd","text":"Domain driven design \u00e9 uma filosofia que ajuda a criar um projeto com foco no dom\u00ednio do mesmo, isso quer dizer que ao entrarmos em um projeto utilizaremos conhecimentos de especialistas da \u00e1rea. Isso ajuda a sabermos para o que exatamente vai ser utilizado, a melhor forma de resolver algum problema e para evitar erros comuns que pessoas que n\u00e3o est\u00e3o familiarizadas com a \u00e1rea possam cometer. Isso ajuda muito, pois se n\u00e3o conhecermos ou n\u00e3o tivermos aux\u00edlio de algu\u00e9m que conhece o dom\u00ednio ou \u00e1rea em que o software atua podemos fazer um projeto que n\u00e3o resolve de forma adequada os problemas ou pior que resolve tudo menos o porque dele ter sido criado.","title":"Ali\u00e1s, o que \u00e9 DDD?"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#beleza-e-o-que-tem-demais","text":"Alguns de voc\u00eas devem estar pensando \"mas poxa isso \u00e9 \u00f3bvio, entender das regras de neg\u00f3cio e programar depois n\u00e3o h\u00e1 nada de mais nisso\" e bem ele n\u00e3o \u00e9 s\u00f3 isso ele vem com uma bagagem de conceitos que ajudam a fazer um design de projeto mais f\u00e1cil de ser entendido, diminuir o acoplamento, e a criar camadas do projeto que ajudam muito na organiza\u00e7\u00e3o e na manuten\u00e7\u00e3o do software.","title":"Beleza e o que tem demais?"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#e-falando-nessas-camadas-elas-sao","text":"Dom\u00ednio: Isso \u00e9 onde as regras de neg\u00f3cios da aplica\u00e7\u00e3o ficam. Infraestrutura: Aqui consiste tudo que seu software precisa independentemente de outros partes como m\u00f3dulos, bibliotecas externas, configura\u00e7\u00f5es do banco de dados e etc. Aplica\u00e7\u00e3o: Esta camada serve para fazer o meio de campo entre a camada de interface e a de dom\u00ednio. Interface: Fornece a intera\u00e7\u00e3o com os outros sistemas como servi\u00e7os web, front-end por exemplo.","title":"E falando nessas camadas elas s\u00e3o:"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#e-agora-e-mao-na-massa","text":"E chega de teoria e vamos ver c\u00f3digo \ud83d\ude04, fiz um projeto usando o que aprendi de DDD e vou mostrar um pouco dele para voc\u00eas, espero que gostem qualquer d\u00favida ou feedback \u00e9 s\u00f3 comentar que estarei feliz em responder. S\u00f3 relembrando \u00e9 s\u00f3 um estudo que fiz esse projeto n\u00e3o demonstra todos os conceitos de DDD at\u00e9 porque \u00e9 um projeto pequeno n\u00e3o iria caber todos como factories, agregates e por a\u00ed vai. Este projeto \u00e9 s\u00f3 um software que armazena e devolve Todos que no caso s\u00e3o simplesmente notas o qual eu guardo com um id que uso como chave primaria, text para deixar o texto, e completed para saber se ela foi realizada ou n\u00e3o. Nele usei FastAPI que e um framework de Python que tem algumas features bem legais segue link abaixo para quem quiser saber mais assim como o link do meu projeto no GitHub .Ent\u00e3o vamos l\u00e1 pasta por pasta. \ud83d\ude4c Projeto: DDD_FastAPI FastAPI documenta\u00e7\u00e3o","title":"E agora \u00e9 m\u00e3o na massa"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#raiz-do-projeto","text":"environment: nele deixei as vari\u00e1veis de ambiente como a chave de seguran\u00e7a e a url do banco de dados, que pegam do sistema caso n\u00e3o tenha pegam as que uso em desenvolvimento. wsgi: chama o uvicorn(ASGI) que \u00e9 a ferramenta que uso para rodar o sistema.","title":"Raiz do projeto"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#modulestodos","text":"todos: Aqui eu uso uma feature muito interessante do FastAPI que \u00e9 criar um subaplicativo o qual chamo de todoApp o que faz que ele seja mais desacoplado de outras partes do sistema, e depois eu s\u00f3 o monto no arquivo framework dentro de infrastructure que vamos falar mais tarde. todosModel: Deixo as fun\u00e7\u00f5es que fazem as queries no banco neste arquivo. todosSchema: Aqui fica os schemas que uso para tipar e validar os dados que mando para o banco e que recebo via endpoint. Assim eu organizo os m\u00f3dulos se eu tiver que implementar algo que n\u00e3o seja ligado ao dom\u00ednio de todos como, por exemplo, lidar com alguma planilha ou enviar e-mails eles teriam que ser em m\u00f3dulos diferentes, assim eu evitaria modifica\u00e7\u00f5es em algo que j\u00e1 est\u00e1 funcionando (provavelmente \ud83d\ude05).","title":"modules/todos"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#infrastructure","text":"framework: Deixo as configura\u00e7\u00f5es ligados a estrutura do framework no caso ele abrir a conex\u00e3o com o banco de dados assim como fechar, e acoplo a subaplica\u00e7\u00e3o (no caso podemos falar m\u00f3dulo tamb\u00e9m) na aplica\u00e7\u00e3o principal. repository: Aqui usando o Encode como ORM que \u00e9 baseado no SQLAlchemy mas com suporte ao asyncio e crio as tabelas (devido ao tamanho do projeto n\u00e3o deixei separado a instancia\u00e7\u00e3o da tabela de todos) e configuro o banco de dados no caso SQLite.","title":"infrastructure"},{"location":"Usando%20DDD%20com%20FastAPI%20e%20subaplica%C3%A7%C3%B5es/#conclusao","text":"Espero que tenham gostado do artigo e do projeto teste aplicando DDD gostei bastante do resultado inicial, mas caso tenham visto algum espa\u00e7o para melhoria no projeto estou sempre aberto a sugest\u00f5es. \u270c\ufe0f","title":"Conclus\u00e3o"}]}